/*
  Window Component Styles

  This is the core window component that makes the OS feel real.
  Each window has a header with controls (minimize, maximize, close),
  and a content area that can hold any component.

  I learned that the key to making windows feel authentic is getting
  the header buttons and the subtle shadows right.
*/

.window {
  /*
    Using position: absolute here so react-draggable's transform positioning works.
    The Draggable component uses transform: translate(x, y) to move the window.
  */
  position: absolute;
  display: flex;
  flex-direction: column;
  min-width: 300px;
  min-height: 200px;
  background-color: var(--color-window-bg);
  border-radius: var(--window-border-radius);
  box-shadow: var(--shadow-window);
  /* overflow: hidden moved to header and content so resize handles aren't clipped */
  transition: box-shadow var(--transition-fast);
}

/* When the window is focused/active, it gets a stronger shadow */
.window--focused {
  box-shadow: var(--shadow-window-focused);
}

/* Maximized window fills the entire desktop area */
.window--maximized {
  top: 0 !important;
  left: 0 !important;
  width: 100% !important;
  height: 100% !important;
  border-radius: 0;
}

/* Minimized windows are hidden */
.window--minimized {
  display: none;
}

/*
  Window Header

  This is the title bar that you drag to move the window.
  It contains the window title and the control buttons.
*/

.window__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  height: var(--window-header-height);
  padding: 0 8px;
  background-color: var(--color-window-header);
  border-radius: var(--window-border-radius) var(--window-border-radius) 0 0;
  overflow: hidden;
  cursor: grab;
  user-select: none;
}

.window__header:active {
  cursor: grabbing;
}

.window__title {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: var(--font-size-small);
  color: var(--color-text-primary);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.window__title-icon {
  width: 16px;
  height: 16px;
  flex-shrink: 0;
  display: flex;
  align-items: center;
}

/* SVG icons scale to fit the 16x16 container in the title bar */
.window__title-icon svg {
  width: 100%;
  height: 100%;
}

/*
  Window Control Buttons

  The minimize, maximize, and close buttons in the top right.
  Close button is red, others are subtle until hovered.
*/

.window__controls {
  display: flex;
  align-items: center;
  height: 100%;
}

.window__control-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 46px;
  height: 100%;
  color: var(--color-text-primary);
  transition: background-color var(--transition-fast);
}

.window__control-btn:hover {
  background-color: var(--color-minimize-btn-hover);
}

.window__control-btn--close:hover {
  background-color: var(--color-close-btn);
}

/* Simple icons using CSS shapes for now */
.window__control-btn svg {
  width: 10px;
  height: 10px;
}

/*
  Window Content

  The main area where the actual content goes.
  It's set to grow and fill the remaining space.
*/

.window__content {
  flex: 1;
  overflow: auto;
  padding: 16px;
  background-color: var(--color-window-bg);
  /* Clip content so it doesn't bleed past the window edges */
  border-radius: 0 0 var(--window-border-radius) var(--window-border-radius);
}

/*
  Resize Handles

  These are invisible handles on the edges and corners of the window
  that let you resize it. They'll be implemented with JS later.
*/

/*
  Resize handles need to be on top of everything in the window so they
  can be grabbed. Made them a bit bigger (6px edges, 12px corners) so
  they're actually possible to click on. They extend slightly outside
  the window boundary which is why we removed overflow:hidden from .window.
*/

.window__resize-handle {
  position: absolute;
  background: transparent;
  z-index: 10;
}

/* Edge handles - 6px wide/tall for easier grabbing */
.window__resize-handle--n {
  top: -3px;
  left: 12px;
  right: 12px;
  height: 6px;
  cursor: n-resize;
}

.window__resize-handle--s {
  bottom: -3px;
  left: 12px;
  right: 12px;
  height: 6px;
  cursor: s-resize;
}

.window__resize-handle--e {
  top: 12px;
  right: -3px;
  bottom: 12px;
  width: 6px;
  cursor: e-resize;
}

.window__resize-handle--w {
  top: 12px;
  left: -3px;
  bottom: 12px;
  width: 6px;
  cursor: w-resize;
}

/* Corner handles - 12px squares for easy corner grabs */
.window__resize-handle--ne {
  top: -3px;
  right: -3px;
  width: 12px;
  height: 12px;
  cursor: ne-resize;
}

.window__resize-handle--nw {
  top: -3px;
  left: -3px;
  width: 12px;
  height: 12px;
  cursor: nw-resize;
}

.window__resize-handle--se {
  bottom: -3px;
  right: -3px;
  width: 12px;
  height: 12px;
  cursor: se-resize;
}

.window__resize-handle--sw {
  bottom: -3px;
  left: -3px;
  width: 12px;
  height: 12px;
  cursor: sw-resize;
}
